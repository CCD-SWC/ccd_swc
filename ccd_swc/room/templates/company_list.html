{% extends 'base.html' %}
{% load staticfiles %}
{% block title %} CCD Room Allotment {% endblock %}

{% block navigation %}
{% endblock %}

{% block body %}
<style>

.container
{
  text-align:center;
}
*
{
    outline: none;
}

html, body
{
    height: 100%;
    min-height: 100%;
}

body
{
    margin: 0;
}
body {
  background: linear-gradient(rgba(255,255,255,0.3), rgba(255,255,255,0.3)),url("https://upload.wikimedia.org/wikipedia/commons/2/27/IIT_Guwahati.jpg") no-repeat center center fixed;
  -webkit-background-size: cover;
  -moz-background-size: cover;
  -o-background-size: cover;
  background-size: cover;
}

.tb
{
    display: table;
    width: 100%;
}

.td
{
    display: table-cell;
    vertical-align: middle;
}

input, button
{
    color: #fff;
    font-family: Nunito;
    padding: 0;
    margin: 0;
    border: 0;
    background-color: transparent;
}

#cover
{
    position: absolute;
    top:0;
    width: 52%;
    padding: 0px;
    margin-top: 415px;
    margin-left: 42%;
    background-color: black;
    border-radius: 15px;
    box-shadow: 0 5px 50px lightblue, 0 0 0 10px white;
    transform: scale(0.6);
    scale: 0.6;
}
@-moz-document url-prefix()
            {
              #cover
              {
                  position: absolute;
                  top:0;
                  width: 70%;
                  padding: 0px;
                  margin-top: 189px;
                  margin-left: 35%;
                  background-color: black;
                  border-radius: 15px;
                  box-shadow: 0 5px 50px lightblue, 0 0 0 10px white;
                  transform: scale(0.6);
                  scale: 0.6;
                  height:90px;
              }
            }
form
{
    height: 110px;
}

input[type="text"]
{
   padding-left:15px;
    width: 100%;
    height: 92px;
    font-size: 85px;
    line-height: 1.5;
}

input[type="text"]::placeholder
{
    color: grey;
    font-size: 65px;
    padding-left:20px;
}
#pad input
{
   background-color:rgba(0,0,0,0.50);
}
#s-cover
{
    width: 1px;
    padding-left: 35px;
}

button
{
    position: relative;
    display: block;
    width: 84px;
    height: 96px;
    cursor: pointer;
}

#s-circle
{
    position: relative;
    top: -8px;
    left: 0;
    width: 65px;
    height: 65px;
    margin-top: 0;
    border-width: 15px;
    border: 15px solid #fff;
    background-color: transparent;
    border-radius: 50%;
    transition: 0.5s ease all;
}
list
{
  text-align:center;
}
button span
{
    position: absolute;
    top: 68px;
    left: 43px;
    display: block;
    width: 45px;
    height: 15px;
    background-color: transparent;
    border-radius: 10px;
    transform: rotateZ(52deg);
    transition: 0.5s ease all;
}

button span:before, button span:after
{
    content: '';
    position: absolute;
    bottom: 0;
    right: 0;
    width: 45px;
    height: 15px;
    background-color: #fff;
    border-radius: 10px;
    transform: rotateZ(0);
    transition: 0.5s ease all;
}

#s-cover:hover #s-circle
{
    top: -1px;
    width: 67px;
    height: 15px;
    border-width: 0;
    background-color: #fff;
    border-radius: 20px;
}

#s-cover:hover span
{
    top: 50%;
    left: 56px;
    width: 25px;
    margin-top: -9px;
    transform: rotateZ(0);
}

body {
  font-family: 'Open Sans', sans-serif;
  font-weight: 300;
  line-height: 1.42em;
  color:#a7a1ae;
  background-color:#1F2739;
}

h1 {
  font-size:3em;
  font-weight: 300;
  font-size:52px;
  line-height:1em;
  text-align: center;
  color: black;
  font-family:'candara';
}

h2 {
  font-size:1em;
  font-weight: 300;
  text-align: center;
  display: block;
  line-height:1em;
  padding-bottom: 2em;
  color: #FB667A;
}

h2 a {
  font-weight: 700;
  text-transform: uppercase;
  color: #FB667A;
  text-decoration: none;
}

.blue { color: #185875; }
.yellow { color: #FFF842; }

.container th h1 {
 font-weight: bold;
 font-size: 1em;
  text-align: left;
  color: linen;
}

.container td {
 font-weight: normal;
 font-size: 1em;
  webkit-box-shadow: 0 2px 2px -2px #0E1119;
  -moz-box-shadow: 0 2px 2px -2px #0E1119;
       box-shadow: 0 2px 2px -2px #0E1119;
}

.container {
 text-align: center;
 overflow: hidden;
 width: 70%;
 margin: 0 auto;
  display: table;
  padding: 0 0 0 0;
}

.container td, .container th {
 padding-bottom: 2%;
 padding-top: 2%;
  padding-left:2%;
}

/* Background-color of the odd rows */
.container tr{
    background-color: rgba(0,0,0,0.75);
}


.container th {
    background-color: rgba(0,0,0,0.10);
}

.container td:first-child { color: #FB667A; }

.container tr:hover {
    background-color: rgba(0,0,0,0.45);
-webkit-box-shadow: 0 2px 2px -2px #0E1119;
  -moz-box-shadow: 0 2px 2px -2px #0E1119;
       box-shadow: 0 2px 2px -2px #0E1119;
}

.container td:hover {
  background-color: rgba(255,165,0,0.85);
  color: black;


  box-shadow: red -1px 1px, red -2px 2px;
  transform: translate3d(2px, -2px, 0);

  transition-delay: 0s;
transition-duration: 0.25s;
transition-property: all;
  transition-timing-function: line;
}

body
{
  font-family: 'Lucida Sans Unicode';font-size: 25px;
}
#list
{
  text-align:center;
}
#s-cover:hover button span:before
{
    bottom: 11px;
    transform: rotateZ(52deg);
}

#s-cover:hover button span:after
{
    bottom: -11px;
    transform: rotateZ(-52deg);
}
#s-cover:hover button span:before, #s-cover:hover button span:after
{
    right: -6px;
    width: 40px;
    background-color: #fff;
}
#cover{
    zoom: 0.5;
    -moz-transform: scale(0.65);
}
#del
{

  text-align :center;

  background-color: transparent;
}
#cont
{
  /*margin :0 auto;*/

  text-align :center;

  background-color: transparent;
}
.pad
{
  margin : 0px ;
}

#haha
{
  text-align:center;
}
.abc
{
  border:1.5px solid white;
  border-radius:5px;
  padding : 10px;
  margin : 5px;
}
#pad
{
  text-align:center;
  margin:0 auto;
  padding:10px;
}
#pad input:hover
{
  background-color:rgba(0,0,0,0.8);
  transition: background-color 0.3s ease;
}
#cunn:hover
{
  background-color:rgba(255,0,0,0.75);
}
  #load
  {
    opacity:1;
  background-color:blue;
  position:fixed;
  width:100%;
  height:100%;
  top:0px;
  left:0px;
  z-index:1000;
  visibility:hidden;
  }
  body, html
  {
  height: 100%;
  text-align: center;
  }

body {
background-color: #242F3F;
}

.loader {
display: inline-block;
width: 30px;
height: 30px;
position: relative;
border: 4px solid #Fff;
top: 50%;
animation: loader 2s infinite ease;
}

.loader-inner {
vertical-align: top;
display: inline-block;
width: 100%;
background-color: #fff;
animation: loader-inner 2s infinite ease-in;
}

@keyframes loader {
0% {
  transform: rotate(0deg);
}

25% {
  transform: rotate(180deg);
}

50% {
  transform: rotate(180deg);
}

75% {
  transform: rotate(360deg);
}

100% {
  transform: rotate(360deg);
}
}

@keyframes loader-inner {
0% {
  height: 0%;
}

25% {
  height: 0%;
}

50% {
  height: 100%;
}

75% {
  height: 100%;
}

100% {
  height: 0%;
}
}
</style>

<div id = "load"><span class="loader"><span class="loader-inner"></span></span></div>

  <div id="cover">
    <form method="GET" action="." role = "search">
      <div class="tb">
        <div class="td"><input id = "pop" type="text" name="q" placeholder="Search Company Name" required></div>
        <div class="td" id="s-cover">
          <button type="submit" id = "popp" value = "{{query|escape}}">
            <div id="s-circle"></div>
            <span></span>
          </button>
        </div>
      </div>
    </form>
  </div>

  <br>
  <div class = container>
  <h1 class="list"><strong>Company List</strong></h1>
  <div id ="poi">
    <br>
  </div>
  <table  class="table table-hover" border = "3">
    <thead>
        <tr>
        <th>Company Name</th>
        {% if user.is_authenticated %}
        <th id = "haha"><div>Delete</div></th>
        {% endif %}
        </tr>
    </thead>
    <tbody>
    {% for company in data %}
      <tr>
        <td id = "cun"><div id = "cont"><a href="{% url 'room:detail' company.id %}">{{ company.name }}</a></div></td>
        {% if user.is_authenticated %}
        <td id = "cunn">
          <form action="{% url 'room:company-delete' company.id %}" method="post" style="display: inline;">
            {% csrf_token %}
            <input type="submit" value="Delete">
          </form>
        </td>
        {% endif %}
      </tr>
    </tbody>
    {% endfor %}
  </table>
  </div>

  <br>
  <div id="pad">

    <input id = 'f1' type="button" class="abc" value="Barak Room List">
    <input id = 'f2' type="button" class="abc" value="Umiam Room List">
    {% if user.is_authenticated %}
    <input onclick="location.href='{% url 'room:rooms_delete' %}'" type="button" class="abc" value="Delete All Rooms">
    <input onclick="location.href='{% url 'room:export_company' %}'" type="button" class="abc" value="Export Companies">
    <input onclick="location.href='{% url 'room:export_data' %}'" type="button" class="abc" value="Export">

    {% endif %}
  </div>
  <script type="text/javascript">
    window.addEventListener( "pageshow", function ( event )
    {
      var historyTraversal = event.persisted || (typeof window.performance != "undefined" && window.performance.navigation.type === 2);
      if( historyTraversal )
      {
        window.location.reload();
      }
    });
      $('#f1').click(function(){
        $('#load').css("visibility","visible");
        window.location.href = "{% url 'room:barak_room_list' %}";
      })
      $('#f2').click(function(){
        $('#load').css("visibility","visible");
        window.location.href = "{% url 'room:umiam_room_list' %}";
      })
  </script>
{% endblock %}
